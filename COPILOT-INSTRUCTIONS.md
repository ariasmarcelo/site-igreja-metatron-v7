# SEÇÃO PÉTREA# SEÇÂO PÉTREA #

Neste documento, criado pelo usuário, existem seções chamadas PÉTREAS, as quais não podem ser removidas ou modificadas. Elas deve ser respeitadas até o ponto em que, você pergunte ao usuário se aquilo pode ser quebrado nalgum contexto atual ou futuro.

Neste documento, criado pelo usuário, existem seções chamadas PÉTREAS, as quais não podem ser removidas ou modificadas. Elas devem ser respeitadas até o ponto em que você pergunte ao usuário se aquilo pode ser quebrado em algum contexto atual ou futuro.

Este documento deve ser lido, compreendido e atualizado durante o trabalho com informações de ordem estrutural sobre o projeto e o estado atual do desenvolvimento, como: Em que ponto se está na moificação ou implemntação em curso. Desta forma, até que se estabiize uma versão, estes textos de status deve estar na seçao: "# STATUS INTERNO #", mais ao final deste documento.

Este documento deve ser lido, compreendido e atualizado durante o trabalho com informações de ordem estrutural sobre o projeto e o estado atual do desenvolvimento, como: Em que ponto se está na modificação ou implementação em curso. Desta forma, até que se estabilize uma versão, estes textos de status devem estar na seção "STATUS INTERNO", mais ao final deste documento.

## Propósito ##

## PropósitoDesenvolver site institucional para a Igreja de Metatron, que se descreve em seu conteúdo, junto de um sistema de edição dinâmica de todos os textos e formados CSS. Para isso, esses dados ficam em banco de dados e são acessíveis por um sistema de edição destes dados que precisa ser encontrado e compreendido. Este sistema, da forma como hoje foi implementado, é uma interface gráfica react que abre em si a página a editar e permite acessar e atualziar os dados editáveis (JSONs e CSSs). Eu queria um editár que me permitisse modificar blocos gráfiucos e dimensões e propriedades de TODOS os elentos de conteúdo. Mas isso daria muito trabalho e custaria MUITO do pouco tempo que temos.

O que tentamos expressar e esclarecer no conteúdo do site é que compreendemos que não pode haver cura e realização espiritual final enquanto, em primeiro lugar, não houver regulação completa homeostática e equilíbrio dinâmico e harmônico do sistema nervoso autônomo. Isso ocorre porq, tendo o indivíduo passado por experiências muito traumatizantes, o sistema de defesa do corpo se ativa de forma excessivamente intensa e crônica; assim, fechando canais de informação entre as partes internas de si e fixando formas socialmente e espiritualmente disfuncionais, de ser e estar a cada momento. Reverter essa situação, para que então possa haver avanço espiritual real, é o foco e objetivo principal do trabalho da Igreja de Metatron. A partir disso, o site deve expressar os conceitos e práticas que levem a esta regulação, que é a base para qualquer avanço espiritual verdadeiro e duradouro.

Desenvolver site institucional para a Igreja de Metatron, que se descreve em seu conteúdo, junto de um sistema de edição dinâmica de todos os textos e formatos CSS. Para isso, esses dados ficam em banco de dados e são acessíveis por um sistema de edição destes dados que precisa ser encontrado e compreendido. Este sistema, da forma como hoje foi implementado, é uma interface gráfica React que abre em si a página a editar e permite acessar e atualizar os dados editáveis (JSONs e CSSs). Eu queria um editor que me permitisse modificar blocos gráficos e dimensões e propriedades de TODOS os elementos de conteúdo. Mas isso daria muito trabalho e custaria MUITO do pouco tempo que temos.> **Visualizar site e ler TODO o conteúdo atual do site de Frontend para melhor compreensão de seus proósitos humanos e do que pode ser melhorado nos textos.**

## FIM Propósito ##

O que tentamos expressar e esclarecer no conteúdo do site é que compreendemos que não pode haver cura e realização espiritual final enquanto, em primeiro lugar, não houver regulação completa homeostática e equilíbrio dinâmico e harmônico do sistema nervoso autônomo. Isso ocorre porque, tendo o indivíduo passado por experiências muito traumatizantes, o sistema de defesa do corpo se ativa de forma excessivamente intensa e crônica; assim, fechando canais de informação entre as partes internas de si e fixando formas socialmente e espiritualmente disfuncionais, de ser e estar a cada momento. Reverter essa situação, para que então possa haver avanço espiritual real, é o foco e objetivo principal do trabalho da Igreja de Metatron. A partir disso, o site deve expressar os conceitos e práticas que levem a esta regulação, que é a base para qualquer avanço espiritual verdadeiro e duradouro.

## Instruções Gerais ##

> **Visualizar site e ler TODO o conteúdo atual do site de Frontend para melhor compreensão de seus propósitos humanos e do que pode ser melhorado nos textos.**> **Sempre que iniciar uma sessão, leia este documento por completo.**

> **Leia e compreenda todos os documentos (.md) deste pacote.**

## Instruções Gerais> **Sempre sugerir melhorias para o conteúdo dos textos do site. Mas NUNCA modificar os textos do site. Sem consultar o editor, o usuário.**

> **Sempre avalie todo o conteúdo deste documento de forma a melhora-lo, mas sem adicionar conteúdo irrelevante**

> **Sempre que iniciar uma sessão, leia este documento por completo.**> **Sempre que aprender algo novo, atualize este documento com as novas informações.**

> **Nunca liste documentos ou instruções HARDCODED neste documento. Oriente conceitualmente sobre o que e onde procurar a informação dentro do pacote físico real. Isso inclui, mas não se limita a, nomes de arquivos, caminhos de diretórios e estruturas de pastas.**

> **Leia e compreenda todos os documentos (.md) deste pacote.**> **Encontre todos os scripts de automação existentes, analise suas funções e mantenha-os em mente para quando for necessário usá-los.**

> **Com seu contexto interno restaurado, faça: "Escreva um [resumo] para o usuário sobre o projeto, stack tecnológica, últimas mudanças importantes e estado atual do desenvolvimento."**

> **Sempre sugerir melhorias para o conteúdo dos textos do site. Mas NUNCA modificar os textos do site sem consultar o editor, o usuário.**> **Sempre que possível, sugira melhorias para os scripts de automação existentes.**

> **Sempre que iniciar uma sessão, releia todos os backps dos arquivos do projeto por completo. Isto serve para que suas novas ações possam compreender melhor o histórico e a direção em que tudo evoluiu.**

> **Sempre avalie todo o conteúdo deste documento de forma a melhorá-lo, mas sem adicionar conteúdo irrelevante.**> **Escreva sempre backups de todos os arquivos locais modificados, especialmente quando forem de conteúdo proprietário deste pacote. Mantenha cinco versões anteriores em histórico. Caso algo dê errado, possamos restaurar uma versão anterior do arquivo.**

> **Nunca remova ou modifique as seções PÉTREAS deste documento. Sempre pergunte ao usuário se pode quebrar alguma delas, em algum contexto atual ou futuro.**

> **Sempre que aprender algo novo, atualize este documento com as novas informações.**> **Ao escrever código, sempre siga as boas práticas de desenvolvimento, incluindo: código limpo, modularidade, comentários claros e consistentes, tratamento de erros adequado e completo e testes quando aplicável.**

> **Quando for atualizar um documento deste projeto, seja qual for, releia integralmente o documento a ser modificado e o reescreva todo do zero para evitar incerências e duplicidades. Sempre mantenha o melhor estilo de escrita.**

> **Nunca liste documentos ou instruções HARDCODED neste documento. Oriente conceitualmente sobre o que e onde procurar a informação dentro do pacote físico real. Isso inclui, mas não se limita a, nomes de arquivos, caminhos de diretórios e estruturas de pastas.**> **Mantenha sempre atualizado o bloco "# DADOS BÁSICOS GERAIS #" mais abaixo neste documento.**

> **Sempre que possível, escreva testes automatizados para o código que você escrever.**

> **Encontre todos os scripts de automação existentes, analise suas funções e mantenha-os em mente para quando for necessário usá-los.**> **Sempre que possível, utilize e recomende o uso de boas práticas de segurança, incluindo, mas não se limitando a: validação e sanitização de entradas, uso de HTTPS, autenticação e autorização adequadas, proteção contra ataques comuns (XSS, CSRF, SQL Injection), gerenciamento seguro de senhas e dados sensíveis, atualizações regulares de dependências e bibliotecas, monitoramento e logging de atividades suspeitas.**

> **Sempre que possível, escreva documentação clara e concisa para o código que você escrever, incluindo comentários no código, documentação de API, guias de uso e exemplos práticos.**

> **Com seu contexto interno restaurado, faça: "Escreva um resumo para o usuário sobre o projeto, stack tecnológica, últimas mudanças importantes e estado atual do desenvolvimento."**> **Sempre que possível, escreva código otimizado para desempenho e escalabilidade, considerando aspectos como complexidade algorítmica, uso eficiente de recursos, cacheamento, balanceamento de carga e arquitetura escalável.**

> **Seja extremamente criterioso ao revisar o código existente, procurando por bugs, vulnerabilidades de segurança, ineficiências e oportunidades de melhoria. Sempre sugira melhorias quando encontrar algo que possa ser aprimorado.**

> **Sempre que possível, sugira melhorias para os scripts de automação existentes.**> **Seja extremamente criterioso ao analisar causalidades, não permitindo passar incoerências nos comportamentos do sistema. Sempre que encontrar algo incoerente, questione o usuário sobre o que fazer a respeito.**

> **Sempre corrija erros de digitação em todos os documentos deste pacote.**

> **Sempre que iniciar uma sessão, releia todos os backups dos arquivos do projeto por completo. Isto serve para que suas novas ações possam compreender melhor o histórico e a direção em que tudo evoluiu.**> **Nunca use abreviações informais ou gírias em documentos técnicos. Sempre escreva de forma clara, formal e profissional.**

> **Nunca use nomes "padrão" destes ambientes, mas use nomes DESCRITIVOS do que aquilo faz para alguém que não conheça os tais padrões, do tipo: "dev", "server" e essas coisas.**

> **Escreva sempre backups de todos os arquivos locais modificados, especialmente quando forem de conteúdo proprietário deste pacote. Mantenha cinco versões anteriores em histórico. Caso algo dê errado, possamos restaurar uma versão anterior do arquivo.**> **Devemos SEMPRE buscar soluções definitivas e duradouras para os problemas, evitando "gambiarras" ou soluções temporárias que possam comprometer a qualidade e a manutenção do código a longo prazo.**



> **Nunca remova ou modifique as seções PÉTREAS deste documento. Sempre pergunte ao usuário se pode quebrar alguma delas, em algum contexto atual ou futuro.**

## FIM Instruções Gerais ##

> **Ao escrever código, sempre siga as boas práticas de desenvolvimento, incluindo: código limpo, modularidade, comentários claros e consistentes, tratamento de erros adequado e completo e testes quando aplicável.**# FIM DA SEÇÂO PÉTREA #



> **Quando for atualizar um documento deste projeto, seja qual for, releia integralmente o documento a ser modificado e o reescreva todo do zero para evitar incoerências e duplicidades. Sempre mantenha o melhor estilo de escrita.**# DADOS BÁSICOS GERAIS #

> **Última atualização:** 11 de novembro de 2025  

> **Mantenha sempre atualizado o bloco "DADOS BÁSICOS GERAIS" mais abaixo neste documento.**> **Versão do projeto:** site-igreja-v6  

> **Repositório:** ariasmarcelo/site-igreja-v6  

> **Sempre que possível, escreva testes automatizados para o código que você escrever.**> **Status:** ✅ Funcional - Migração Vercel completa

> **Produção:** https://shadcn-ui-seven-olive.vercel.app

> **Sempre que possível, utilize e recomende o uso de boas práticas de segurança, incluindo, mas não se limitando a: validação e sanitização de entradas, uso de HTTPS, autenticação e autorização adequadas, proteção contra ataques comuns (XSS, CSRF, SQL Injection), gerenciamento seguro de senhas e dados sensíveis, atualizações regulares de dependências e bibliotecas, monitoramento e logging de atividades suspeitas.**> **Stack:** Vite 7.2 + React 19 + TypeScript 5.7 + Tailwind CSS 4 + Supabase PostgreSQL + Vercel Serverless

# FIM DADOS BÁSICOS GERAIS #

> **Sempre que possível, escreva documentação clara e concisa para o código que você escrever, incluindo comentários no código, documentação de API, guias de uso e exemplos práticos.**

# STATUS INTERNO #

> **Sempre que possível, escreva código otimizado para desempenho e escalabilidade, considerando aspectos como complexidade algorítmica, uso eficiente de recursos, cacheamento, balanceamento de carga e arquitetura escalável.**

## ✅ Migração Vercel Completa - 11/11/2025

> **Seja extremamente criterioso ao revisar o código existente, procurando por bugs, vulnerabilidades de segurança, ineficiências e oportunidades de melhoria. Sempre sugira melhorias quando encontrar algo que possa ser aprimorado.**

### Decisão Arquitetural

> **Seja extremamente criterioso ao analisar causalidades, não permitindo passar incoerências nos comportamentos do sistema. Sempre que encontrar algo incoerente, questione o usuário sobre o que fazer a respeito.**- ❌ Removido: GitHub Pages (não suporta serverless functions)

- ❌ Removido: Express server (duplicação funcional)

> **Sempre corrija erros de digitação em todos os documentos deste pacote.**- ✅ Adotado: **Vercel 100%** (dev + prod)



> **Nunca use abreviações informais ou gírias em documentos técnicos. Sempre escreva de forma clara, formal e profissional.**### Ambiente de Desenvolvimento

**UM ÚNICO SERVIDOR HTTP na porta 8080**

> **Nunca use nomes "padrão" destes ambientes, mas use nomes DESCRITIVOS do que aquilo faz para alguém que não conheça os tais padrões, do tipo: "dev", "server" e essas coisas.**

- Comando: `pnpm start` (executa start-dev.ps1)

> **Devemos SEMPRE buscar soluções definitivas e duradouras para os problemas, evitando "gambiarras" ou soluções temporárias que possam comprometer a qualidade e a manutenção do código a longo prazo.**- Servidor: Vercel Dev

- Frontend: http://localhost:8080/

# FIM DA SEÇÃO PÉTREA- APIs: http://localhost:8080/api/*

- Admin Console: http://localhost:8080/436F6E736F6C45

---

**Paridade Dev/Prod = 100%**

# DADOS BÁSICOS GERAIS- Mesmas serverless functions em dev e prod

- Mesmo comportamento de roteamento

**Última atualização:** 11 de novembro de 2025  - Mesmas variáveis de ambiente (.env.local)

**Versão:** site-igreja-v6  

**Repositório:** ariasmarcelo/site-igreja-v6  ### Scripts Disponíveis

**Status:** ✅ Funcional - Migração Vercel completa  ```bash

**Produção:** https://shadcn-ui-seven-olive.vercel.app  pnpm start     # Inicia Vercel Dev (porta 8080)

**Stack:** Vite 7.2 + React 19 + TypeScript 5.7 + Tailwind CSS 4 + Supabase PostgreSQL + Vercel Serverlesspnpm stop      # Para Vercel Dev

pnpm restart   # Reinicia Vercel Dev

---pnpm deploy    # Deploy para Vercel produção

```

# STATUS INTERNO

### Configuração Limpa

## Migração Vercel Completa - 11/11/2025- `vercel.json`: Minimalista (apenas functions config)

- `package.json`: Script "dev" = "vite" (evita recursão no Vercel Dev)

**Decisão Arquitetural:**- `.vercel/`: Linkado ao projeto correto (shadcn-ui)

- ❌ Removido: GitHub Pages (não suporta serverless functions)- Yarn instalado globalmente (requerido pelo Vercel CLI)

- ❌ Removido: Express server (duplicação funcional)

- ✅ Adotado: **Vercel 100%** para desenvolvimento e produção### Commits Importantes

- `79bef96`: Configuração limpa Vercel Dev

**Ambiente de Desenvolvimento - UM ÚNICO SERVIDOR HTTP:**- `baa2240`: Remoção Express server

- Porta: 8080- `ea4efe7`: Migração 100% Vercel

- Comando: `pnpm start` (executa start-dev.ps1)- `pre-vercel-migration` (tag): Backup antes da migração

- Servidor: Vercel Dev

- Frontend: http://localhost:8080/# FIM STATUS INTERNO #

- APIs: http://localhost:8080/api/*(prepare: scripts inteligentes para parar os servidores e os documente.)

- Admin Console: http://localhost:8080/436F6E736F6C45

## ⚠️ FLUXO DE DADOS CRÍTICO

**Paridade Dev/Prod = 100%:**

- Mesmas serverless functions em desenvolvimento e produção(comando: pnpm check)

- Mesmo comportamento de roteamento**ÚNICA FONTE DE DADOS:** Supabase PostgreSQL

- Mesmas variáveis de ambiente (.env.local)### Arquitetura Refatorada em 10/11/2025

**Gatilhos:** "releia do zero", "restaure contexto"---"

**Scripts Disponíveis:****1. Supabase (contém 100% dos dados e formatos CSS em produção)**

```bash
pnpm start     # Inicia Vercel Dev (porta 8080)
pnpm stop      # Para Vercel Dev
pnpm restart   # Reinicia Vercel Dev
pnpm deploy    # Deploy para Vercel produção
```

**Configuração Limpa:**
- `vercel.json`: Minimalista (apenas configuração de functions)
- `package.json`: Script "dev" = "vite" (evita recursão no Vercel Dev)
- `.vercel/`: Linkado ao projeto correto (shadcn-ui)
- Yarn instalado globalmente (requerido pelo Vercel CLI)

**Commits Importantes:**
- `95b7b7d`: Documentação atualizada
- `79bef96`: Configuração limpa Vercel Dev
- `baa2240`: Remoção Express server
- `ea4efe7`: Migração 100% Vercel
- `pre-vercel-migration` (tag): Backup antes da migração

**Fluxo de Dados:**
- **Única fonte de dados:** Supabase PostgreSQL
- Todas as páginas, conteúdos e estilos estão no Supabase
- Admin Console faz CRUD direto no Supabase via APIs serverless
- Frontend consome dados do Supabase via APIs serverless
